# 分离一个进程

在 node 程序运行时, 由于会创建子进程来执行外部应用程序, 所以父子进程直接会有相互的影响. 在很多情况下,我们需要将子进程进行分离开来. 比如我们不想子进程由于父进程的终结而终结, 或者父进程终结后不必等待子进程的终结.

要分离一个进程必须做到一下 3 点:

1. 必须将 detached 选项设置为 true.这样才能是子进程升级成为它自己的进程组头
2. 必须配置 stdio 选项,这样父进程和子进程的 I/O 连接才会中断
3. 父进程中对子进程的内部引用计数必须被移除,可通过 child.unref()实现
